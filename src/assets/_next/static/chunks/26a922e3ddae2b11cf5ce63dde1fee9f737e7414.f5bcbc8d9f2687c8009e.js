(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[30],{"8+sR":function(e,t,n){"use strict";var r=n("nKUr"),o=n("cpVT"),a=n("xvhg"),i=n("wx14"),c=n("Ff2n"),s=n("q1tI"),u=n("iuhU"),l=n("ye/S"),d=n("H2TA"),g=s.forwardRef((function(e,t){var n=e.animation,r=void 0===n?"pulse":n,o=e.classes,a=e.className,l=e.component,d=void 0===l?"span":l,g=e.height,f=e.variant,p=void 0===f?"text":f,m=e.width,b=Object(c.a)(e,["animation","classes","className","component","height","variant","width"]),h=Boolean(b.children);return s.createElement(d,Object(i.a)({ref:t,className:Object(u.default)(o.root,o[p],a,h&&[o.withChildren,!m&&o.fitContent,!g&&o.heightAuto],!1!==r&&o[r])},b,{style:Object(i.a)({width:m,height:g},b.style)}))})),f=Object(d.a)((function(e){return{root:{display:"block",backgroundColor:Object(l.a)(e.palette.text.primary,"light"===e.palette.type?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}}),{name:"MuiSkeleton"})(g);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.src,n=e.width,o=e.height,i=e.style,c=e.id,u=e.onClick,l=e.cloneid,d=e.clone,g=e.cloneStyle,p=function(){var e=Object(s.useState)(!1),t=e[0],n=e[1],r=Object(s.useRef)(),o=function(){n(!0)};return Object(s.useEffect)((function(){r.current&&r.current.complete&&o()})),[r,t,o]}(),b=Object(a.a)(p,3),h=b[0],j=b[1],O=b[2];return Object(r.jsxs)("div",{className:"custom-image ".concat(j?"":"border-none"),children:[!j&&Object(r.jsx)(f,{className:"image-skeleton",variant:"rect",width:n,height:o}),Object(r.jsx)("img",{ref:h,id:c,onLoad:O,src:t,alt:"",style:i,onClick:u}),d&&Object(r.jsx)("img",{id:l,onLoad:O,src:t,alt:"",style:m(m({},g),{},{position:"absolute"}),onClick:u})]})};t.a=b;b.defaultProps={id:null,src:null,width:"100%",height:"100%",style:{},onClick:function(){},clone:!1,cloneStyle:{},cloneid:null}},"8vSd":function(e,t){e.exports="/_next/static/images/BG13-d6e5c993fe7f5955391545b07bb49413.jpg"},As3m:function(e,t){e.exports="/_next/static/images/BG14-a1ce02e7ed7324269234381d3801a2f8.jpg"},GXYG:function(e,t){e.exports="/_next/static/images/BG18-80e36ef66e418dd34ec383e87e6e1584.jpg"},MIlV:function(e,t){e.exports="/_next/static/images/bg-trans-png-8c50226376e53494e2d874264a1056f0.png"},NiSH:function(e,t){e.exports="/_next/static/images/BG10-357470f6aa915b01baf68196b82fa221.jpg"},RMy0:function(e,t){e.exports="/_next/static/images/BG15-e2070fb29d59d1e78b23d6c0b3e684a3.jpg"},SpeL:function(e,t,n){"use strict";n.d(t,"b",(function(){return v}));var r=n("nKUr"),o=n("H+61"),a=n("UlJF"),i=n("+Css"),c=n("7LId"),s=n("VIvw"),u=n("iHvq"),l=n("cpVT"),d=n("vDqi"),g=n.n(d),f=n("q1tI"),p=n("20a2"),m=n("NKQG"),b=(n("53SV"),n("Iab2"),n("r2e5"));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var o=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var y=Object(f.createContext)({imageSrc:null,setImageSrc:function(){return null}}),v=function(){return Object(f.useContext)(y)},w=["Uploading your image...","Processing your image..."],x=function(e){Object(c.a)(n,e);var t=O(n);function n(e){var r;return Object(o.a)(this,n),r=t.call(this,e),Object(l.a)(Object(i.a)(r),"setImageSrc",(function(e,t){r.setState((function(n){return j(j({},n),{},{imageSrc:t?e:j(j({},n.imageSrc),e)})}),(function(){window.localStorage.setItem("imgbk",JSON.stringify(r.state.imageSrc))}))})),Object(l.a)(Object(i.a)(r),"handleDownload",(function(){var e=new XMLHttpRequest;e.open("GET",r.state.imageSrc.preview,!0),e.responseType="blob",e.onload=function(){var e=(window.URL||window.webkitURL).createObjectURL(this.response),t=document.createElement("a");t.href=e,t.download="finalImage_bg_remove.png",document.body.appendChild(t),t.click(),document.body.removeChild(t)},e.onerror=function(e){console.error("oops, something went wrong!",e)},e.send()})),Object(l.a)(Object(i.a)(r),"handleImageProcess",(function(e,t){switch(e){case 1:r.handleUploadBgimage(t);break;case 2:r.handleBgRemoveUpload(t)}})),Object(l.a)(Object(i.a)(r),"handleUploadBgimage",(function(e){r.setState((function(t){return{loading:j(j({},t.loading),{},{retry:!1,status:!0,message:w[0]}),processingimage:e}})),g.a.post("https://apps.mydukaan.io/api/v2/img/upload",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var t=e.data;r.state.loading.status&&(r.handleBgRemoveUpload(t.url),r.setState((function(e){return{loading:j(j({},e.loading),{},{step:2}),processingimage:t.url}})))})).catch((function(e){r.props.enqueueSnackbar("Size of this image is more than 2.5MB. Please pick a smaller image.",{variant:"error"}),r.setState({loading:{loading:!1,status:!1,step:1}})}))})),Object(l.a)(Object(i.a)(r),"handleBgRemoveUpload",(function(e){var t=r.props.router;r.setState((function(e){return{loading:j(j({},e.loading),{},{message:w[1],retry:!1,status:!0})}}));var n="https://bgapi.mydukaan.io/url?URL=".concat(e);!function(e,t){fetch(e,{method:"HEAD"}).then((function(e){e.ok?t(!0):t(!1)})).catch((function(e){return t(!1)}))}(n,(function(e){e?r.state.loading.status&&(r.setImageSrc({original:r.state.processingimage,preview:n}),r.setState((function(e){return{loading:j(j({},e.loading),{},{status:!1,step:1}),processingimage:null}})),"/tools/upload"===t.pathname?location.reload():t.push({pathname:"/tools/upload"})):r.setState((function(e){return{loading:j(j({},e.loading),{},{retry:!0,step:2})}}))}))})),Object(l.a)(Object(i.a)(r),"handleCloseProcessingImage",(function(){r.setState((function(e){return{loading:j(j({},e.loading),{},{status:!1,retry:!1,step:1}),processingimage:null}})),window.document.getElementsByTagName("html")[0].style.setProperty("overflow","auto")})),r.state={imageSrc:{},loading:{status:!1,message:w[0],retry:!1,step:1},processingimage:null},r}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=JSON.parse(window.localStorage.getItem("imgbk"));e&&this.setImageSrc(e)}},{key:"render",value:function(){var e=this.state,t=e.imageSrc,n=e.loading,o=e.processingimage,a=this.props.children,i={imageSrc:t,loading:n,processingimage:o,AddBgImg:S,setImageSrc:this.setImageSrc,handleCloseProcessingImage:this.handleCloseProcessingImage,handleImageProcess:this.handleImageProcess,handleDownload:this.handleDownload};return Object(r.jsx)(y.Provider,{value:i,children:a})}}]),n}(f.Component);t.a=Object(p.withRouter)(Object(m.b)(x));var S=[{id:1,img:b.p,bgColor:"transparent"},{id:2,img:b.h,bgColor:"#1A181E"},{id:3,img:b.i,bgColor:"#D9D9D9"},{id:4,img:b.j,bgColor:"#DB5F5A"},{id:5,img:b.k,bgColor:"#D94C8F"},{id:6,img:b.l,bgColor:"#5A3D8F"},{id:7,img:b.m,bgColor:"#8877CF"},{id:8,img:b.n,bgColor:"#6CAEA9"},{id:9,img:b.o,bgColor:"#56853F"},{id:10,img:b.a,bgColor:"#96D66A"},{id:11,img:b.b,bgColor:"#CEE077"},{id:12,img:b.c,bgColor:"#FAFADA"},{id:13,img:b.d,bgColor:"#FFFD73"},{id:14,img:b.e,bgColor:"#F5DD6F"},{id:15,img:b.f,bgColor:"#EDBE6A"}]},W161:function(e,t){e.exports="/_next/static/images/BG12-6128fc35381c90f8278eedfb08e0fc0f.jpg"},WMC8:function(e,t){e.exports="/_next/static/images/BG23-f39730591a3ee759cbabd2d42ade3b52.jpg"},WOz6:function(e,t){e.exports="/_next/static/images/BG21-3fb0c195d12928c98d4878cf735120d6.jpg"},Y7Qm:function(e,t){e.exports="/_next/static/images/BG9-b2929fc0d0f455dba42ac5b678dd5d12.jpg"},ZrPQ:function(e,t){e.exports="/_next/static/images/BG17-96d88db35d3a005f903615e27a71d56e.jpg"},"cH+K":function(e,t){e.exports="/_next/static/images/BG24-91c090e0177b94f4e26a6a96e3db9d9d.jpg"},cSMq:function(e,t){e.exports="/_next/static/images/BG16-2ba2f2ea6a61ec94ff7aac2c00143920.jpg"},nEnH:function(e,t){e.exports="/_next/static/images/BG22-255f02d14968a086a8312f3dab7bc540.jpg"},piDS:function(e,t){e.exports="/_next/static/images/BG11-f4e12c1e7726006de3847de6db962b78.jpg"},r2e5:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return i})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return s})),n.d(t,"n",(function(){return u})),n.d(t,"o",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return h})),n.d(t,"p",(function(){return j}));n("Y7Qm");var r=n("NiSH"),o=n("piDS"),a=n("W161"),i=n("8vSd"),c=n("As3m"),s=n("RMy0"),u=n("cSMq"),l=n("ZrPQ"),d=n("GXYG"),g=n("t/CL"),f=n("w2OE"),p=n("WOz6"),m=n("nEnH"),b=n("WMC8"),h=n("cH+K"),j=n("MIlV")},"t/CL":function(e,t){e.exports="/_next/static/images/BG19-6bb18f0f93b692b210447acec22fe4c1.jpg"},w2OE:function(e,t){e.exports="/_next/static/images/BG20-c59e419d808b6c0216f11fd674b99747.jpg"}}]);